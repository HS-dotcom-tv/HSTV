<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HSTV - Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* ---------------------------------------------------- */
    /* Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø®Ø·ÙˆØ· Ø®Ø§ØµØ© Ù„Ù„Ø´Ø¹Ø§Ø± (Ù‡Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Exo 2 Ù„Ù…Ø¸Ù‡Ø± Ø±ÙŠØ§Ø¶ÙŠ) */
    /* ---------------------------------------------------- */
    @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@700;800&display=swap');

    :root {
        /* -- Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ (Ù…Ø«Ø§Ù„ÙŠ) -- */
        --bg-gradient-start: #EFF6FF; --bg-gradient-end: #DBEAFE;
        --text-main: #1E293B; --text-secondary: #475569;
        --card-bg: rgba(255, 255, 255, 0.7); --card-hover-bg: rgba(255, 255, 255, 1);
        --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        --card-border: transparent; --btn-bg: #fff; --btn-text: #334155; --btn-border: #CBD5E1;
        --btn-active-gradient-start: #3B82F6; --btn-active-gradient-end: #2563EB;
        --btn-active-text: #fff; --header-text: #1E3A8A;
        --logo-color-main: #1E3A8A; /* Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø± */
        --logo-color-accent: #3B82F6; /* Ù„ÙˆÙ† Ø¬Ø²Ø¡ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù…ÙŠØ² ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø± (Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¨Ø«) */
        --live-dot: #ef4444; /* Ù„ÙˆÙ† Ø§Ù„Ø¯ÙˆØª Ø§Ù„Ø­Ù…Ø±Ø§Ø¡ */
    }
    html.dark-mode {
        /* -- Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ (Netflix Ø§Ù„Ù…ØµÙ‚ÙˆÙ„) -- */
        --bg-gradient-start: #141414; --bg-gradient-end: #141414;
        --text-main: #fff; --text-secondary: #A3A3A3;
        --card-bg: #282828; --card-hover-bg: #333333;
        --card-shadow: 0 0 0 0 transparent; --card-border: #282828;
        --btn-bg: #2F2F2F; --btn-text: #fff; --btn-border: #4B5563;
        --btn-active-gradient-start: #B9090B; --btn-active-gradient-end: #990709;
        --btn-active-text: #fff; --header-text: #B9090B;
        --logo-color-main: #E5E7EB; /* Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø§Ù„Ù„ÙŠÙ„ */
        --logo-color-accent: #F97316; /* ØªØ¯Ø±Ø¬ Ø¯Ø§ÙØ¦ Ù„Ù„Ù€ TV ÙÙŠ Ø§Ù„Ù„ÙŠÙ„ (Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„) */
        --live-dot: #ff7b7b;
    }
    
    body { 
        font-family: 'Cairo', sans-serif; 
        background-color: var(--bg-gradient-start);
        background-image: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end)); 
        min-height:100vh; color: var(--text-main);
        transition: background 0.4s ease, color 0.4s ease;
    }
    .match-card { 
        transition: all .2s ease-in-out; 
        background: var(--card-bg); border: 1px solid var(--card-border);
        box-shadow: var(--card-shadow); border-radius: 0.75rem;
    }
    html.dark-mode .match-card {
        backdrop-filter: none; border-radius: 0.25rem; border: none;
    }
    .match-card:hover { 
        transform: translateY(-5px); background: var(--card-hover-bg); 
    }
    html.dark-mode .match-card:hover {
        transform: scale(1.03) translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    }
    .btn-tab { 
        background: var(--btn-bg); color: var(--btn-text);
        border: 1px solid var(--btn-border);
        transition: all .2s ease; border-radius: 0.75rem;
    }
    .btn-tab.active { 
        background: linear-gradient(90deg, var(--btn-active-gradient-start), var(--btn-active-gradient-end)); 
        color: var(--btn-active-text); border: none;
        box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.1);
    }

    /* === Header styles (only these are new/changed) === */
    header.flex-header { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1.5rem; }
    /* keep original title styling & size */
    .header-main-title {
        font-family: 'Exo 2', sans-serif;
        color: var(--logo-color-main);
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 1px;
        line-height: 1;
    }
    /* brand area: allow optional image (PNG) then title */
    .brand { display:flex; align-items:center; gap:0.75rem; min-width:0; }
    .brand img.logo-png { width:52px; height:52px; object-fit:contain; border-radius:8px; display:block; }
    .brand .logo-fallback { width:52px; height:52px; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7)); border-radius:8px; box-shadow: var(--card-shadow); }
    .brand .logo-fallback svg { width:36px; height:36px; fill:var(--logo-color-accent); }

    /* tv-wrap: make TV colored and allow small live badge anchored to it */
    .tv-wrap { position:relative; display:inline-block; vertical-align:middle; margin-left:6px; }
    .tv-text { color: var(--logo-color-accent); font-weight:800; font-size:0.95em; opacity:0.95; }
    /* small live badge in the top-right corner of TV (visible in Desktop & Mobile) */
    .live-badge {
      position:absolute; top:-8px; right:-10px;
      transform: translateZ(0);
      display:flex; align-items:center; gap:6px;
      background: var(--logo-color-accent); color:#fff; padding:3px 6px; border-radius:999px;
      font-size:0.66rem; font-weight:700; box-shadow: 0 6px 18px rgba(16,24,40,0.08);
    }
    .live-dot {
      width:8px; height:8px; border-radius:999px; background: var(--live-dot); position:relative;
    }
    /* pulse effect (keeps working in desktop) */
    @keyframes pulse {
      0% { transform: scale(1); opacity:1; }
      60% { transform: scale(1.8); opacity:0.4; }
      100% { transform: scale(2.6); opacity:0; }
    }
    .live-dot::after {
      content:""; position:absolute; left:0; top:0; right:0; bottom:0; border-radius:999px;
      background: var(--live-dot); animation: pulse 1.6s infinite ease-out; opacity:0.9;
    }

    /* theme toggle style kept but slightly positioned */
    #theme-toggle {
        background: var(--btn-bg); border: 1px solid var(--btn-border);
        border-radius: 999px; padding: 0.45rem; color: var(--text-main); cursor: pointer;
        transition: all 0.18s ease; display:flex; align-items:center; justify-content:center;
    }

    /* small responsive tweaks */
    @media (max-width:520px) {
      .header-main-title.text-3xl { font-size: 1.5rem; } /* keep it readable on small screens */
      .brand img.logo-png, .brand .logo-fallback { width:44px; height:44px; }
      .live-badge { top:-6px; right:-8px; font-size:0.6rem; padding:2px 5px; }
    }

    /* keep previous subtitle style */
    .header-subtitle { color: var(--text-secondary); margin-top: -5px; font-size: 0.8rem; text-align:center; }
  </style>
  
  <script>
    (function() {
      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.classList.add('dark-mode');
      }
    })();
  </script>
</head>
<body class="p-4">
  <!-- ====== HEADER: button placed first so visual order keeps HSTV at left on RTL ====== -->
  <header class="flex-header">
    <!-- theme toggle (kept, appears on the right visually because page is RTL and this node is first) -->
    <div style="display:flex; align-items:center; gap:8px;">
      <button id="theme-toggle" title="ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹"></button>
    </div>

    <!-- brand (placed last so it appears on the left in RTL) -->
    <div class="brand" role="banner" aria-label="HSTV - Ø§Ù„Ø´Ø¹Ø§Ø± ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†">
      <!-- optional PNG logo: Ø¶Ø¹ Ù…Ù„Ù logo.png ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù„ÙŠØ¸Ù‡Ø± -->
      <img src="logo.png" alt="Ø´Ø¹Ø§Ø± HSTV" class="logo-png" onerror="this.style.display='none'">
      <!-- fallback SVG (ÙŠØ¨Ù‚Ù‰ Ø¸Ø§Ù‡Ø± Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ PNG) -->
      <div class="logo-fallback" aria-hidden="true" title="HSTV">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12 2l2.5 4.8L20 8l-3.6 3.1L17.5 16 12 13.6 6.5 16l1.1-4.9L4 8l5.5-.2L12 2z"/>
        </svg>
      </div>

      <!-- title: Ø­Ø¬Ù… ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø£ØµÙ„ (text-3xl) - Ø­Ø§ÙØ¸Øª Ø¹Ù„Ù‰ Ø°Ù„Ùƒ -->
      <h1 class="header-main-title text-3xl" aria-level="1" role="heading">
        HST<span class="tv-wrap"><span class="tv-text">TV</span>
          <!-- live badge anchored to TV (ØµØºÙŠØ±Ø©ØŒ ÙÙŠ Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù€ TV) -->
          <span class="live-badge" aria-hidden="false" title="Ù…Ø¨Ø§Ø´Ø± Ø§Ù„Ø¢Ù†">
            <span class="live-dot" aria-hidden="true"></span>
            <span style="line-height:1;">live</span>
          </span>
        </span>
      </h1>
    </div>
  </header>

  <p class="header-subtitle mt-1">Ø£Ù‡Ù… Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø£Ù…Ø³ ÙˆØ§Ù„ØºØ¯</p>

  <div class="max-w-3xl mx-auto mb-6">
    <div class="flex gap-3">
      <button id="yesterday" class="btn-tab flex-1 px-4 py-2">Ø§Ù„Ø£Ù…Ø³</button>
      <button id="today" class="btn-tab flex-1 px-4 py-2 active">Ø§Ù„ÙŠÙˆÙ…</button>
      <button id="tomorrow" class="btn-tab flex-1 px-4 py-2">Ø§Ù„ØºØ¯</button>
    </div>
  </div>

  <main id="matches" class="max-w-3xl mx-auto space-y-4"></main>
  
  <script>
    const themeToggle = document.getElementById('theme-toggle');
    const sunIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>`;
    const moonIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>`;
    function updateIcon() { if (document.documentElement.classList.contains('dark-mode')) { themeToggle.innerHTML = sunIcon; } else { themeToggle.innerHTML = moonIcon; } }
    themeToggle.addEventListener('click', () => { document.documentElement.classList.toggle('dark-mode'); localStorage.setItem('theme', document.documentElement.classList.contains('dark-mode') ? 'dark' : 'light'); updateIcon(); });
    updateIcon();
    
    // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±
    const API_URL = 'matches.json';
    const matchesContainer = document.getElementById('matches');
    const leagueTranslations = { 'PL': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ', 'CL': 'Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§', 'EC': 'Ø¨Ø·ÙˆÙ„Ø© Ø£Ù…Ù… Ø£ÙˆØ±ÙˆØ¨Ø§', 'WC': 'ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…', 'PD': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ', 'BL1': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ', 'SA': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ', 'FL1': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠ', 'PPL': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„ÙŠ', 'DED': 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ù‡ÙˆÙ„Ù†Ø¯ÙŠ' };
    const brokenLogos = { '113': true };
    function setActiveTab(id) { document.querySelectorAll('.btn-tab').forEach(b => b.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function getDateString(offset = 0) { const d = new Date(); d.setDate(d.getDate() + offset); return d.toISOString().split('T')[0]; }
    function formatTime(iso) { const d = new Date(iso); let timeString = d.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'Asia/Riyadh' }); return timeString.replace('AM', 'ØµØ¨Ø§Ø­Ù‹Ø§').replace('PM', 'Ù…Ø³Ø§Ø¡Ù‹'); }
    async function loadMatches(view='today') { setActiveTab(view); matchesContainer.innerHTML = `<div class="text-center py-12 text-slate-400">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª...</div>`; try { const res = await fetch(API_URL + '?t=' + Date.now()); const data = await res.json(); renderMatches(data.response || [], view); } catch (err) { matchesContainer.innerHTML = `<div class="text-center py-12 text-red-400">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>`; } }
    function renderMatches(allMatches, view) { matchesContainer.innerHTML = ''; const offset = view === 'yesterday' ? -1 : view === 'tomorrow' ? 1 : 0; const target = getDateString(offset); let filtered = allMatches.filter(m => m.fixture.date && m.fixture.date.startsWith(target)); if (!filtered.length) { matchesContainer.innerHTML = `<div class="text-center py-12 text-slate-400">âš½ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…</div>`; return; } filtered.forEach(match => { matchesContainer.innerHTML += renderMatchHTML(match); }); }
    function renderMatchHTML(match) { const status = match.fixture.status.short || 'NS'; let centerTop = '', centerBottom = ''; if (["LIVE", "HT"].includes(status)) { centerTop = `<div class="score-box text-emerald-400">${match.goals.home ?? 0} - ${match.goals.away ?? 0}</div>`; centerBottom = `<div class="status-text text-red-400">Ù…Ø¨Ø§Ø´Ø±</div>`; } else if (["FT", "AET", "PEN"].includes(status)) { centerTop = `<div class="score-box">${match.goals.home ?? 0} - ${match.goals.away ?? 0}</div>`; centerBottom = `<div class="status-text">Ø§Ù†ØªÙ‡Øª</div>`; } else { const formattedTime = formatTime(match.fixture.date); const timeParts = formattedTime.split(' '); centerTop = `<div class="score-box">${timeParts[0]}<span class="time-period">${timeParts[1]}</span></div>`; } const leagueNameAr = leagueTranslations[match.league.code] || match.league.name; const competitionInfo = `<div class="match-details"><span>ğŸ† ${leagueNameAr}</span><span>ğŸŸï¸ ${match.fixture.venue || 'Ù…Ù„Ø¹Ø¨ ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span></div>`; const homeLogo = brokenLogos[match.teams.home.id] ? 'default-logo.svg' : (match.teams.home.logo || 'default-logo.svg'); const awayLogo = brokenLogos[match.teams.away.id] ? 'default-logo.svg' : (match.teams.away.logo || 'default-logo.svg'); return `<div class="match-card p-4"><div class="grid grid-cols-3 items-center text-center"><div><img src="${homeLogo}" class="crest" onerror="this.src='default-logo.svg';"></div><div>${centerTop}</div><div><img src="${awayLogo}" class="crest" onerror="this.src='default-logo.svg';"></div></div><div class="grid grid-cols-3 items-center text-center mt-2"><div class="team-name">${match.teams.home.name}</div><div>${centerBottom}</div><div class="team-name">${match.teams.away.name}</div></div>${competitionInfo}</div>`; }
    ['yesterday', 'today', 'tomorrow'].forEach(id => document.getElementById(id).addEventListener('click', () => loadMatches(id)));
    loadMatches('today');
    setInterval(() => { if (document.getElementById('today').classList.contains('active')) loadMatches('today'); }, 60000);
  </script>
</body>
</html>
